\chapter{Differentiation}
\section{Linear approximation}
\textbf{Linear approximation}

The linear approximation for a function $f$ near a point $x=a$ is given by the following equivalent formulas:
\begin{align*}
    \Delta f\approx\left.\frac{\mathrm{d}f}{\mathrm{d}x}\right|_{x=a}\cdot\Delta x & \quad\text{for $\Delta x$ near $0$,} \\
        f(x)\approx f^\prime(a)(x-a)+f(a) & \quad\text{for $x$ near $a$.}
\end{align*}

\section{Product rule}
\textbf{The product rule}

If $h(x)=f(x)g(x)$, then
$$
h^\prime (x)=f(x)g^\prime (x)+g(x)f^\prime (x)
$$

\begin{proof}
    First we need to know that the Leibniz notation
    $$
    \mathrm{d}f(x)=f(x+\mathrm{d}x)-f(x)
    $$
    which equals to $\Delta f(x)=\lim_{\Delta x\to 0} [f(x+\Delta x)-f(x)]$.

    When substitute $f(x)=x$ into both equation we get $\mathrm{d}x=(x+\mathrm{d}x)-x\text{ and }\lim_{\Delta x\to 0} (x+\Delta x)-x$.
    So
    $$
    \mathrm{d}x=\lim_{\Delta x\to 0} \Delta x,
    $$
    thus why we can replace $\Delta x$ with $\mathrm{d}x$ from the $\Delta f(x)$ and remove the limit symbol, then naturally $\Delta f(x)$ becomes $\mathrm{d}f(x)$, Perfect!

    To proof the product rule, we can write $f(x+\mathrm{d}x)=\mathrm{d}f(x)+f(x)$, the reasons why this equation is important are that if we differentiate the $h(x)=f(x)g(x)$:
    \begin{align*}
        \frac{\mathrm{d}h(x)}{\mathrm{d}x} & =\frac{\mathrm{d}}{\mathrm{d}x}[f(x)g(x)] \\
                                           & =\frac{f(x+\mathrm{d}x)g(x+\mathrm{d}x)-f(x)g(x)}{\mathrm{d}x} \\
                                           & =\frac{[\mathrm{d}f(x)+f(x)][\mathrm{d}g(x)+g(x)]-f(x)g(x)}{\mathrm{d}x} \\
                                           & =\frac{\mathrm{d}f(x)\mathrm{d}g(x)+g(x)\mathrm{d}f(x)+f(x)\mathrm{d}g(x)\bcancel{+f(x)g(x)-f(x)g(x)}}{\mathrm{d}x} \\
                                           & =\frac{\mathrm{d}f(x)\mathrm{d}g(x)}{\mathrm{d}x}+g(x)\frac{\mathrm{d}f(x)}{\mathrm{d}x}+f(x)\frac{\mathrm{d}g(x)}{\mathrm{d}x}
    \end{align*}
    The $\frac{\mathrm{d}f(x)\mathrm{d}g(x)}{\mathrm{d}x}$ can transform into $\frac{\mathrm{d}f(x)}{\mathrm{d}x}\cdot\frac{\mathrm{d}g(x)}{\mathrm{d}x}\cdot\mathrm{d}x$ which equals to $0$ because the extra $\mathrm{d}x$ at the end. Finally
    $$
    \frac{\mathrm{d}h(x)}{\mathrm{d}x}=g(x)\frac{\mathrm{d}f(x)}{\mathrm{d}x}+f(x)\frac{\mathrm{d}g(x)}{\mathrm{d}x}.
    $$
\end{proof}

\section{Quotient rule}
\begin{enumerate}
    \item \textbf{The quotient rule.} If $h(x)=\frac{f(x)}{g(x)}$ for all $x$, then
        $$
        h^\prime (x)=\frac{f^\prime (x)g(x)-f(x)g^\prime (x)}{g(x)^2}
        $$
        at all points where $f$ and $g$ are differentiable and $g(x)\neq 0$.
    \item \textbf{Derivatives of all trigonometric functions}
        \begin{align*}
            & \frac{\mathrm{d}}{\mathrm{d}x}\sin x=\cos x \\
            & \frac{\mathrm{d}}{\mathrm{d}x}\cos x=-\sin x \\
            & \frac{\mathrm{d}}{\mathrm{d}x}\tan x=\frac{1}{\cos^2 x}=\sec^2 x \\
            & \frac{\mathrm{d}}{\mathrm{d}x}\cot x=-\frac{1}{\sin^2 x}=-\csc^2 x \\
            & \frac{\mathrm{d}}{\mathrm{d}x}\sec x=\frac{\sin x}{\cos^2 x}=\sec x\tan x \\
            & \frac{\mathrm{d}}{\mathrm{d}x}\csc x=-\frac{\cos x}{\sin^2 x}=-\csc x\cot x
        \end{align*}
\end{enumerate}

\section{Chain rule}
\begin{enumerate}
    \item \textbf{The Chain Rule}

        If $h(x)=f(g(x))$, then
        $$
        h^\prime (x)=f^\prime (g(x))g^\prime (x)
        $$
        at all points where the derivatives $f^\prime (g(x))$ and $g^\prime (x)$ are defined. \textbf{Notice that $[f(g(x))]^\prime\neq f^\prime(g(x))$.}

        Alternatively, if $y=f(u)$ and $u=g(x)$, then
        $$
        \left.\frac{\mathrm{d}y}{\mathrm{d}x}\right|_{x=a}=\left.\frac{\mathrm{d}y}{\mathrm{d}u}\right|_{u=g(a)}\cdot\left.\frac{\mathrm{d}u}{\mathrm{d}x}\right|_{x=a}
        $$
        at any point $x=a$ where the derivatives on the right side are defined.

        \begin{proof}
            \textbf{Proof Quotient Rule by Chain Rule and Product Rule}

            If $h(x)=\frac{f(x)}{g(x)}$, the first thing to do is to rewrite $\frac{1}{g(x)}$ in terms of a fractional power $h(x)=f(x)\cdot g^{-1}(x)$, obviously we can apply the chain rule. It might help to write $u=g(x)$ so $h(x)=f(x)\cdot u^{-1}$. Thus the last step is a product, then we start by product rule
            \begin{align*}
                h^\prime (x) & =f^\prime (x)\cdot u^{-1}+(u^{-1})^\prime f(x) \\
                             & =\frac{f^\prime (x)}{g(x)}+(-u^{-2}\cdot u^\prime)f(x) \\
                             & =\frac{f^\prime (x)}{g(x)}+[-\frac{1}{g^2(x)}\cdot g^\prime (x)]f(x) \\
                             & =\frac{f^\prime (x)}{g(x)}-\frac{g^\prime (x)f(x)}{g^2(x)} \\
                             & =\frac{f^\prime (x)g(x)+g^\prime (x)f(x)}{g^2(x)}
            \end{align*}
        \end{proof}
\end{enumerate}

\section{Implicit differentiation}
\textbf{Implicit functions}
An implicit function is an equation involving both $x$ and $y$ (or any two variables really); you \textit{could} solve for $y$ as a function of $x$, but often times that computation is messy (or impossible). If a function is not implicit, we say that it is explicit.

Immediately differentiating $y=x^{m/n}$ is hard. But differentiating the \textit{implicit} function $y^n=x^m$ was a whole lot easier. This happens any time your function is more simply described implicitly.
\begin{gather*}
    \frac{\mathrm{d}}{\mathrm{d}x}(y^n=x^m) \\
    ny^{n-1}\cdot\frac{\mathrm{d}y}{\mathrm{d}x}=mx^{m-1} \\
    \frac{\mathrm{d}y}{\mathrm{d}x}=\frac{m}{n}\cdot\frac{x^{m-1}}{y^{n-1}}
\end{gather*}
\begin{eg}
    Which of the following equations give $y$ as an implicit function of $x$?
    \begin{itemize}
        \item $y^3=x^2$ is implicit. 
        \item $y=x^{2/3}$ is explicit.
        \item $yx=1$ is implicit.
        \item $y+x=1$ is implicit.
        \item $\sin(y)=cos(x)$ is implicit.
    \end{itemize}
\end{eg}

\section{Inverse Function}
\begin{enumerate}
    \item \textbf{Definition of inverse function}

        If function $f$ and $g$ satisfy $g(f(x))=x$ and $f(g(y))=y$, then we say $g$ is the inverse of $f$, and denote it by $f^{-1}$. (Similarly, $f=g^{-1}$.)

        If a function $f$ has an inverse function $f^{-1}$, then $f^{-1}(b)=a$ if and only if $b=f(a)$.
    \item \textbf{Definition of one-to-one}

        A function $f$ is \textbf{one-to-one} if whenever $a\neq b$, $f(a)\neq f(b)$. (Horizontal line test.)
    \item \textbf{Domain and range, interval notation}
        
        The \textbf{domain} of a function $f$ is the set of allowable input values. For instance, the domain of the function $f(x)=1/x$ is the set of all non-zero real numbers. ($x\in(-\infty,0)\cup(0,+\infty)$.)

        The \textbf{range} of $f$ is the set of all possible output values. For instance, the range of the function $g(x)=x^2$ is the set of all real numbers that are non-negative. ($g(x)\in(0,+\infty)$.)

        An \textbf{open interval}, denoted $(a,b)$, is the set of numbers $x$ such that $a<x<b$.

        This notation using round parentheses for open intervals is not universal; many mathematicians use reversed square brackets instead. For instance, they would denote the interval $3<x<7$ as $]3,7[$ rather than $(3,7)$. However, I will stick to round parentheses for open intervals.
    \item \textbf{The inverse trig functions}
        \begin{align*}
            \sin\theta=x \text{ such that } \arcsin x=\theta & \quad(\theta\in[-\frac{\pi}{2},\frac{\pi}{2}]) \\
            \cos\theta=x \text{ such that } \arccos x=\theta & \quad(\theta\in[0,\pi]) \\
            \tan\theta=x \text{ such that } \arctan x=\theta & \quad(\theta\in(-\frac{\pi}{2},\frac{\pi}{2}))
        \end{align*}
    \item \textbf{Derivatives of inverse functions}

        If $g$ is a (full or partial) inverse of a function $f$, then
        $$
        g^\prime(x)=\frac{1}{f^\prime(g(x))}
        $$
        at all $x$ where $f^\prime(g(x))$ exists and is non-zero.
    \item \textbf{Derivatives of arctrig functions}

        Where defined,
        \begin{align*}
            \frac{\mathrm{d}}{\mathrm{d}x}\arcsin(x) & =\frac{1}{\cos(\theta)}=\frac{1}{\sqrt{1-\sin^2(\theta)}}=\frac{1}{\sqrt{1-x^2}} \\
            \frac{\mathrm{d}}{\mathrm{d}x}\arccos(x) & =\frac{1}{-\sin(\theta)}=\frac{1}{-\sqrt{1-\cos^2(\theta)}}=-\frac{1}{\sqrt{1-x^2}} \\
            \frac{\mathrm{d}}{\mathrm{d}x}\arctan(x) & =\frac{1}{\sec^2(\theta)}=\frac{1}{\cos^{-2}(\theta)}=\cos^2(\theta)=\underbrace{\left(\frac{\cos(\theta)}{\sqrt{\sin^2(\theta)+\cos^2(\theta)}}\right)^2}_{\substack{\text{combine cosine definition} \\ \text{and Pythagoras rule} \\ \text{of the hypotenuse.}}}=\frac{1}{\tan^2(\theta)+1}=\frac{1}{x^2+1}
        \end{align*}
\end{enumerate}

\section{Exponential functions}
\begin{enumerate}
    \item \textbf{Properties of exponents}

        Let $a$ be a positive real number.
        \begin{itemize}
            \item $a^0=1$
            \item $a^1=a$
            \item $a^m a^n=a^{m+n}$
            \item $(a^m)^n=a^{mn}$
            \item $a^{m/n}=\sqrt[n]{a^m}$
        \end{itemize}
    \item \textbf{Properties of exponential functions}

        The function $f(x)=a^x$ has base $a$ for a positive real number.
        \begin{itemize}
            \item The function $a^x$ is a continuous function.
            \item The domain of $a^x$ is all real numbers.
            \item The range of $a^x$ is all positive real numbers.
        \end{itemize}
    \item \textbf{The derivative of an exponential function}

        The derivative of the exponential function is
        $$
        \frac{\mathrm{d}}{\mathrm{d}x}a^x=\frac{a^{\mathrm{d}x}-1}{\mathrm{d}x}\cdot a^x=M(a)a^x,
        $$
        where the mystery number $M(a)$ is the slope of the tangent line at zero:
        $$
        \left.\frac{\mathrm{d}}{\mathrm{d}x}a^x\right|_{x=0}=M(a).
        $$
    \item \textbf{Definition of $e$}
        
        The base $e$ is the unique real number so that $M(e)=1$. Then
        $$
        \frac{\mathrm{d}}{\mathrm{d}x}e^x=e^x.
        $$
        This implies $M(e)$ always equals to $1$:
        \begin{align*}
            \frac{e^{\mathrm{d}x} -1}{\mathrm{d}x} & =1 \\
            e^{\mathrm{d}x} & =1+\mathrm{d}x \\
            e & =(1+\mathrm{d}x)^{\frac{1}{\mathrm{d}x}}
        \end{align*}
        let $\frac{1}{\mathrm{d}x}=n$, so $n\to +\infty$. We get the formally definition of $e$
        $$
        \lim_{n\to +\infty}=(1+\frac{1}{n})^n
        $$
\end{enumerate}

\section{Logarithms}
\begin{enumerate}
    \item \textbf{Properties of $x$}

        $\log(x)$ implicitly denotes $\log_{10}(x)$, which is the inverse function of $10^x$.

        The natural log, denoted $\ln(x)$, is the inverse function of $e^x$.
        \begin{itemize}
            \item $e^{\ln x}=x$
            \item $\ln(ab)=\ln(a)+\ln(b)$
            \item $\ln(a^b)=b\ln(a)$
        \end{itemize}
    \item \textbf{The derivative of the natural logarithm}
        $$
        \frac{\mathrm{d}}{\mathrm{d}x}\ln x=\frac{1}{x}
        $$
        \begin{proof}
            Differentiate $e^{\ln(x)}=x$ with $x$
            \begin{align*}
                \frac{\mathrm{d}}{\mathrm{d}x}e^{\ln(x)} & =\frac{\mathrm{d}}{\mathrm{d}x}x \\
                \frac{\mathrm{d}e^{\ln(x)}}{\mathrm{d}\ln(x)}\cdot\frac{\mathrm{d}\ln(x)}{\mathrm{d}x} & =1 \\
                e^{\ln(x)}\cdot\frac{\mathrm{d}\ln(x)}{\mathrm{d}x} & =1 \\
                x\cdot\frac{\mathrm{d}\ln(x)}{\mathrm{d}x} & =1 \\
                \frac{\mathrm{d}\ln(x)}{\mathrm{d}x} & =\frac{1}{x}
            \end{align*}
        \end{proof}
    \item \textbf{Differentiating exponential functions with other bases}

        For any positive constant $a$,
        $$
        \frac{\mathrm{d}}{\mathrm{d}x}a^x=a^x\ln a.
        $$
        For proof see the method change to base $e$ below.
    \item \textbf{Differentiation methods}
        
        \textbf{Method 1: Change to base $\bm{e}$}

        To calculate $\left[f(x)^{g(x)}\right]^\prime$, first change base $f(x)^{g(x)}=e^{g(x)\ln f(x)}$, then differentiate using the chain rule, and the derivatives of the exponential and natural logarithm functions.

        \textbf{Method 2: Logarithmic differentiation}

        To calculate $u^\prime$, first calculate $(\ln(u))^\prime$, then use the formula $u^\prime=u(\ln(u))^\prime$ and solve for $u^\prime$
        \begin{proof}
            \begin{align*}
                && \frac{\mathrm{d}}{\mathrm{d}x}\ln u & =\frac{\mathrm{d}\ln u}{\mathrm{d}u}\cdot\frac{\mathrm{d}u}{\mathrm{d}x} \\
                && & =\frac{1}{u}\cdot\frac{\mathrm{d}u}{\mathrm{d}x} \\
                \leftrightarrow && (\ln u)^\prime & =\frac{u^\prime}{u} \\
                \leftrightarrow && u^\prime & =u(\ln u)^\prime
            \end{align*}
        \end{proof}
\end{enumerate}

\chapter{Approximations}
\section{Linear approximation: measurement error}
\begin{enumerate}
    \item \textbf{Linear Approximations near $\bm{x=0}$}

        Recall that the linearization of a function $f(x)$ near $x=0$ is given by the formula $f(x)\approx f(0)+f^\prime (0)x$.
        \begin{itemize}
            \item $(1+x)^n\approx 1+nx$
            \item $\sin x\approx x$
            \item $\cos x\approx 1$
            \item $e^x\approx x+1$
            \item $\ln(1+x)\approx x$
        \end{itemize}
    \item \textbf{Approximations (likely nonlinear) of compositions}

        Suppose $g(x)$ is a function such that $g(0)=0$. To find an approximation of a function $f(g(x))$ near $x=0$, we can take a linear approximation for $f(u)$ and then substitute $g(x)$ in for $u$. The resulting approximation is likely nonlinear, but it is still an approximation.

        Warning: this only works if $g(0)=0$.
        $$
            f(u)\approx f(0)+f^\prime (u)u\Rightarrow f(g(x))\approx f(0)+f^\prime(0)g(x)
        $$
    \item \textbf{Linear approximations of products}

        To find the linear approximation of a function $h(x)=f(x)g(x)$ near $x=0$, it suffices to find a linear approximation for $f(x)$, find a linear approximation for $g(x)$, and then the linear approximation for $h(x)$ is the product of these two approximations where we cancel all of the terms that are quadratic (or higher for more products).
		\begin{align*}
            h(x) & \approx (f(0)+f^\prime (0)x)(g(0)+g^\prime (0)x) \\
                 & =f(0)g(0)+(f^\prime (0)g(0)+f(0)g^\prime (0))x+f^\prime (0)g^\prime (0)x^2 \\
                 & \approx f(0)g(0)+(f^\prime (0)g(0)+f(0)g^\prime (0))x
        \end{align*}
\end{enumerate}
